<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pego | Entrega & Carona</title>
<style>
:root{--blue:#0a6cff;--green:#00c48c;}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;margin:0;padding:0;}
body{min-height:100vh;background:linear-gradient(120deg,var(--blue),var(--green));color:#fff;padding:15px;}
.hidden{display:none;}
.card,form{background:#fff;color:#000;padding:15px;border-radius:14px;margin-bottom:12px;box-shadow:0 4px 12px rgba(0,0,0,.2);}
button{border:none;border-radius:20px;padding:12px;font-weight:bold;cursor:pointer;}
.primary{background:var(--blue);color:#fff;}
.green{background:var(--green);color:#fff;}
input{width:100%;padding:10px;margin:6px 0;border-radius:10px;border:1px solid #ddd;}
header{text-align:center;margin-bottom:15px;}
nav button{width:100%;margin:6px 0;}
</style>
</head>
<body>

<header>
  <h1>Pego | Entrega & Carona</h1>
  <p>Conectando pessoas, cidades e oportunidades üöóüì¶üåç</p>
</header>

<div id="publicArea">
  <div class="card">
    <h3>Quem somos n√≥s? ü§ù</h3>
    <p>Somos uma plataforma criada para facilitar a vida das pessoas comuns. Aqui voc√™ encontra caronas, envia encomendas e cria conex√µes reais entre cidades e pessoas.</p>
  </div>
  <div class="card">
    <h3>Nossa finalidade üöÄ</h3>
    <p>Economizar tempo, dinheiro e aproximar pessoas. Seja para viajar ou enviar algo importante, o Pego existe para tornar o dia a dia mais simples, humano e acess√≠vel.</p>
  </div>
  <nav>
    <button class="green" onclick="show('register')">Criar cadastro</button>
    <button class="primary" onclick="show('login')">Entrar</button>
  </nav>
</div>

<form id="register" class="hidden">
  <h3>Criar Conta</h3>
  <input id="r_name" placeholder="Nome completo">
  <input id="r_tel" placeholder="Telefone">
  <input id="r_rua" placeholder="Rua">
  <input id="r_num" placeholder="N√∫mero">
  <input id="r_bairro" placeholder="Bairro">
  <input id="r_cidade" placeholder="Cidade">
  <input id="r_estado" placeholder="Estado">
  <input id="r_email" placeholder="Email">
  <input id="r_pass" type="password" placeholder="Senha">
  <input id="r_pass2" type="password" placeholder="Confirmar senha">
  <button type="button" class="green" onclick="register()">Criar Conta</button>
  <button type="button" onclick="back()">Voltar</button>
</form>

<form id="login" class="hidden">
  <h3>Entrar</h3>
  <input id="l_email" placeholder="Email">
  <input id="l_pass" type="password" placeholder="Senha">
  <button type="button" class="primary" onclick="login()">Entrar</button>
  <button type="button" onclick="resetPass()">Esqueci minha senha</button>
  <button type="button" onclick="back()">Voltar</button>
</form>

<div id="private" class="hidden">
  <div class="card">
    <h3 id="userName"></h3>
    <p id="userCity"></p>
  </div>
  <nav>
    <button onclick="alert('Publicar Carona em breve')">Publicar Carona</button>
    <button onclick="alert('Pesquisar Carona em breve')">Pesquisar Carona</button>
    <button onclick="alert('Publicar Entrega em breve')">Publicar Entrega</button>
    <button onclick="alert('Pesquisar Entrega em breve')">Pesquisar Entrega</button>
    <button onclick="alert('Avalia√ß√£o em breve ‚≠ê')">Avaliar Usu√°rio</button>
    <button onclick="alert('Suporte: suporte@pego.app üõ†Ô∏è')">Falar com Suporte</button>
    <button onclick="logout()">Sair</button>
  </nav>
</div>

<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig={
  apiKey:"AIzaSyDGU_N1Un8Eo5DuaVbI4vru63ox_tSBR1o",
  authDomain:"pego-entrego-c3010.firebaseapp.com",
  projectId:"pego-entrego-c3010"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

function show(id){
  document.getElementById('publicArea').classList.add('hidden');
  document.getElementById('login').classList.add('hidden');
  document.getElementById('register').classList.add('hidden');
  document.getElementById(id).classList.remove('hidden');
}
function back(){
  document.getElementById('register').classList.add('hidden');
  document.getElementById('login').classList.add('hidden');
  document.getElementById('publicArea').classList.remove('hidden');
}

async function register(){
  const name=r_name.value, tel=r_tel.value, rua=r_rua.value, num=r_num.value,
  bairro=r_bairro.value, cidade=r_cidade.value, estado=r_estado.value,
  email=r_email.value, pass=r_pass.value, pass2=r_pass2.value;

  if(!name||!tel||!rua||!num||!bairro||!cidade||!estado||!email||!pass||!pass2)
    return alert("Preencha tudo!");
  if(pass!==pass2) return alert("Senhas diferentes!");

  const u=await auth.createUserWithEmailAndPassword(email,pass);
  await db.collection("users").doc(u.user.uid).set({name,tel,rua,num,bairro,cidade,estado});

  userName.innerText="Ol√°, "+name;
  userCity.innerText=cidade+" - "+estado;
  document.getElementById('register').classList.add('hidden');
  document.getElementById('private').classList.remove('hidden');
}

async function login(){
  const u=await auth.signInWithEmailAndPassword(l_email.value,l_pass.value);
  const doc=await db.collection("users").doc(u.user.uid).get();
  userName.innerText="Ol√°, "+doc.data().name;
  userCity.innerText=doc.data().cidade+" - "+doc.data().estado;
  document.getElementById('login').classList.add('hidden');
  document.getElementById('private').classList.remove('hidden');
}

function resetPass(){
  if(!l_email.value) return alert("Informe seu email");
  auth.sendPasswordResetEmail(l_email.value);
  alert("Email de recupera√ß√£o enviado!");
}
function logout(){
  auth.signOut();
  location.reload();
}
</script>
</body>
</html>
